{"ast":null,"code":"// src/SAMLAuth.js\n\nimport axios from 'axios';\nconst BASE_URL = 'http://localhost:8000'; // Your Django backend URL\n\nexport const SAMLAuth = {\n  login: () => {\n    // Instead of directly redirecting, let's try to fetch the login URL\n    return axios.get(`${BASE_URL}/saml2/login/`, {\n      withCredentials: true\n    }).then(response => {\n      // If successful, redirect to the login URL\n      window.location.href = response.data.login_url;\n    }).catch(error => {\n      console.error('Login error:', error);\n      throw error;\n    });\n  },\n  logout: () => {\n    return axios.get(`${BASE_URL}/saml2/logout/`, {\n      withCredentials: true\n    }).then(() => {\n      localStorage.removeItem('user');\n    }).catch(error => {\n      console.error('Logout error:', error);\n      throw error;\n    });\n  },\n  getCurrentUser: () => {\n    return axios.get(`${BASE_URL}/user-info/`, {\n      withCredentials: true\n    }).then(response => {\n      if (response.data) {\n        localStorage.setItem('user', JSON.stringify(response.data));\n        return response.data;\n      }\n      return null;\n    }).catch(error => {\n      console.error('Get current user error:', error);\n      return null;\n    });\n  },\n  isAuthenticated: () => {\n    return localStorage.getItem('user') !== null;\n  }\n};","map":{"version":3,"names":["axios","BASE_URL","SAMLAuth","login","get","withCredentials","then","response","window","location","href","data","login_url","catch","error","console","logout","localStorage","removeItem","getCurrentUser","setItem","JSON","stringify","isAuthenticated","getItem"],"sources":["C:/Users/AMX1/Downloads/Repo/OAD_Auto/ous_agile_devops_ai/oad_ai/oad_ai_frontend/src/SAMLAuth.js"],"sourcesContent":["// src/SAMLAuth.js\r\n\r\nimport axios from 'axios';\r\n\r\nconst BASE_URL = 'http://localhost:8000'; // Your Django backend URL\r\n\r\nexport const SAMLAuth = {\r\n  login: () => {\r\n    // Instead of directly redirecting, let's try to fetch the login URL\r\n    return axios.get(`${BASE_URL}/saml2/login/`, { withCredentials: true })\r\n      .then(response => {\r\n        // If successful, redirect to the login URL\r\n        window.location.href = response.data.login_url;\r\n      })\r\n      .catch(error => {\r\n        console.error('Login error:', error);\r\n        throw error;\r\n      });\r\n  },\r\n\r\n  logout: () => {\r\n    return axios.get(`${BASE_URL}/saml2/logout/`, { withCredentials: true })\r\n      .then(() => {\r\n        localStorage.removeItem('user');\r\n      })\r\n      .catch(error => {\r\n        console.error('Logout error:', error);\r\n        throw error;\r\n      });\r\n  },\r\n\r\n  getCurrentUser: () => {\r\n    return axios.get(`${BASE_URL}/user-info/`, { withCredentials: true })\r\n      .then(response => {\r\n        if (response.data) {\r\n          localStorage.setItem('user', JSON.stringify(response.data));\r\n          return response.data;\r\n        }\r\n        return null;\r\n      })\r\n      .catch(error => {\r\n        console.error('Get current user error:', error);\r\n        return null;\r\n      });\r\n  },\r\n\r\n  isAuthenticated: () => {\r\n    return localStorage.getItem('user') !== null;\r\n  }\r\n};"],"mappings":"AAAA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAG,uBAAuB,CAAC,CAAC;;AAE1C,OAAO,MAAMC,QAAQ,GAAG;EACtBC,KAAK,EAAEA,CAAA,KAAM;IACX;IACA,OAAOH,KAAK,CAACI,GAAG,CAAC,GAAGH,QAAQ,eAAe,EAAE;MAAEI,eAAe,EAAE;IAAK,CAAC,CAAC,CACpEC,IAAI,CAACC,QAAQ,IAAI;MAChB;MACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGH,QAAQ,CAACI,IAAI,CAACC,SAAS;IAChD,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;MACdC,OAAO,CAACD,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;MACpC,MAAMA,KAAK;IACb,CAAC,CAAC;EACN,CAAC;EAEDE,MAAM,EAAEA,CAAA,KAAM;IACZ,OAAOhB,KAAK,CAACI,GAAG,CAAC,GAAGH,QAAQ,gBAAgB,EAAE;MAAEI,eAAe,EAAE;IAAK,CAAC,CAAC,CACrEC,IAAI,CAAC,MAAM;MACVW,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;IACjC,CAAC,CAAC,CACDL,KAAK,CAACC,KAAK,IAAI;MACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;MACrC,MAAMA,KAAK;IACb,CAAC,CAAC;EACN,CAAC;EAEDK,cAAc,EAAEA,CAAA,KAAM;IACpB,OAAOnB,KAAK,CAACI,GAAG,CAAC,GAAGH,QAAQ,aAAa,EAAE;MAAEI,eAAe,EAAE;IAAK,CAAC,CAAC,CAClEC,IAAI,CAACC,QAAQ,IAAI;MAChB,IAAIA,QAAQ,CAACI,IAAI,EAAE;QACjBM,YAAY,CAACG,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACf,QAAQ,CAACI,IAAI,CAAC,CAAC;QAC3D,OAAOJ,QAAQ,CAACI,IAAI;MACtB;MACA,OAAO,IAAI;IACb,CAAC,CAAC,CACDE,KAAK,CAACC,KAAK,IAAI;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C,OAAO,IAAI;IACb,CAAC,CAAC;EACN,CAAC;EAEDS,eAAe,EAAEA,CAAA,KAAM;IACrB,OAAON,YAAY,CAACO,OAAO,CAAC,MAAM,CAAC,KAAK,IAAI;EAC9C;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}